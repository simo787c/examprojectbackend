-- H2 2.1.214;
;             
CREATE USER IF NOT EXISTS "SA" SALT '9c36c2bf159b2ddd' HASH '6e2c713cb7d89df60ab1a31e41cebf805caae22a2275fa87f0c1cccc85d58ec2' ADMIN;         
CREATE MEMORY TABLE "PUBLIC"."CAR"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "BEST_DISCOUNT" DOUBLE PRECISION,
    "BRAND" CHARACTER VARYING(255),
    "MODEL" CHARACTER VARYING(255),
    "PRICE_PR_DAY" DOUBLE PRECISION
);       
ALTER TABLE "PUBLIC"."CAR" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CAR;     
CREATE MEMORY TABLE "PUBLIC"."MEMBER"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "APPROVED" BOOLEAN,
    "CITY" CHARACTER VARYING(255),
    "FIRST_NAME" CHARACTER VARYING(255),
    "LAST_NAME" CHARACTER VARYING(255),
    "RANKING" CHARACTER VARYING(255),
    "STREET" CHARACTER VARYING(255),
    "ZIP" INTEGER
);          
ALTER TABLE "PUBLIC"."MEMBER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.MEMBER;  
CREATE MEMORY TABLE "PUBLIC"."RESERVATION"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "RENTAL_DATE" TIMESTAMP,
    "RESERVATION_DATE" TIMESTAMP,
    "CAR_ID" BIGINT,
    "MEMBER_ID" BIGINT
);      
ALTER TABLE "PUBLIC"."RESERVATION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.RESERVATION;             
ALTER TABLE "PUBLIC"."RESERVATION" ADD CONSTRAINT "PUBLIC"."FKGKMBSPV7RLJIXXOXO1AF80LPP" FOREIGN KEY("CAR_ID") REFERENCES "PUBLIC"."CAR"("ID") NOCHECK;       
ALTER TABLE "PUBLIC"."RESERVATION" ADD CONSTRAINT "PUBLIC"."FK68999QE28YM9EQQLOWYBH9NVN" FOREIGN KEY("MEMBER_ID") REFERENCES "PUBLIC"."MEMBER"("ID") NOCHECK; 
