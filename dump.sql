-- H2 2.1.214;
;             
CREATE USER IF NOT EXISTS "SA" SALT '0e54a3a5edef7cba' HASH 'e90b430d877ee92306dae5e22584f62aedec95e8e1fc53d0c82a1db542d75b11' ADMIN;         
CREATE MEMORY TABLE "PUBLIC"."CAR"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "BEST_DISCOUNT" DOUBLE PRECISION,
    "BRAND" CHARACTER VARYING(255),
    "MODEL" CHARACTER VARYING(255),
    "PRICE_PR_DAY" DOUBLE PRECISION
);        
ALTER TABLE "PUBLIC"."CAR" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");          
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.CAR;     
INSERT INTO "PUBLIC"."CAR" VALUES
(1, 30.0, 'Audi', 'A4', 300.0),
(2, 14.0, 'Nissan', 'Air', 460.0);        
CREATE MEMORY TABLE "PUBLIC"."MEMBER"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "APPROVED" BOOLEAN,
    "CITY" CHARACTER VARYING(255),
    "FIRST_NAME" CHARACTER VARYING(255),
    "LAST_NAME" CHARACTER VARYING(255),
    "RANKING" CHARACTER VARYING(255),
    "STREET" CHARACTER VARYING(255),
    "ZIP" INTEGER
);           
ALTER TABLE "PUBLIC"."MEMBER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.MEMBER;  
INSERT INTO "PUBLIC"."MEMBER" VALUES
(1, FALSE, U&'K\00f8benhavn', 'Johnny', 'Johnson', '10.0', 'Frederiksberg vej 34', 2500),
(2, FALSE, U&'K\00f8benhavn', 'Lars', 'Larsen', '20.0', 'Princesse vej 90', 2400);           
CREATE MEMORY TABLE "PUBLIC"."RESERVATION"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "RENTAL_DATE" TIMESTAMP,
    "RESERVATION_DATE" TIMESTAMP,
    "CAR_ID" BIGINT,
    "MEMBER_ID" BIGINT
);       
ALTER TABLE "PUBLIC"."RESERVATION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");  
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.RESERVATION;             
INSERT INTO "PUBLIC"."RESERVATION" VALUES
(1, TIMESTAMP '2022-12-19 00:00:00', TIMESTAMP '2022-12-19 00:00:00', 1, 1);       
ALTER TABLE "PUBLIC"."RESERVATION" ADD CONSTRAINT "PUBLIC"."FKGKMBSPV7RLJIXXOXO1AF80LPP" FOREIGN KEY("CAR_ID") REFERENCES "PUBLIC"."CAR"("ID") NOCHECK;       
ALTER TABLE "PUBLIC"."RESERVATION" ADD CONSTRAINT "PUBLIC"."FK68999QE28YM9EQQLOWYBH9NVN" FOREIGN KEY("MEMBER_ID") REFERENCES "PUBLIC"."MEMBER"("ID") NOCHECK; 
